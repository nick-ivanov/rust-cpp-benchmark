# Figure 3: Rust HashMap Insert vs BTree Insert

import matplotlib.pyplot as plt
y = [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800, 1900, 2000, 2100, 2200, 2300, 2400, 2500, 2600, 2700, 2800, 2900, 3000, 3100, 3200, 3300, 3400, 3500, 3600, 3700, 3800, 3900, 4000, 4100, 4200, 4300, 4400, 4500, 4600, 4700, 4800, 4900, 5000, 5100, 5200, 5300, 5400, 5500, 5600, 5700, 5800, 5900, 6000, 6100, 6200, 6300, 6400, 6500, 6600, 6700, 6800, 6900, 7000, 7100, 7200, 7300, 7400, 7500, 7600, 7700, 7800, 7900, 8000, 8100, 8200, 8300, 8400, 8500, 8600, 8700, 8800, 8900, 9000, 9100, 9200, 9300, 9400, 9500, 9600, 9700, 9800, 9900, 10000]
p1, = plt.plot(y, [0.000005922899999999352, 0.000013026099999999746, 0.000020542599999997468, 0.000028154999999998205, 0.000036011399999999396, 0.0000440096999999976, 0.0000521430000000042, 0.00006017419999999361, 0.00006860359999999831, 0.00007741830000000064, 0.00008583929999999585, 0.00009458630000000064, 0.00010320120000000284, 0.00011182520000000196, 0.0001201167999999929, 0.00012942910000000084, 0.000138086, 0.00014693969999999299, 0.00015547159999999827, 0.0001595660000000088, 0.00016763780000000693, 0.00017706860000000227, 0.00018648120000000894, 0.000194520500000011, 0.0002026333999999914, 0.00021165110000000614, 0.0002206264000000061, 0.00022781309999998905, 0.00023391360000000162, 0.0002454076000000101, 0.0002539968999999898, 0.0002604739999999926, 0.000267755800000009, 0.00027708489999999926, 0.0002919298999999942, 0.00030214470000000844, 0.00031774119999999185, 0.0003177676999999991, 0.00032765650000000197, 0.0003439792000000026, 0.00034453319999999053, 0.0003533890000000145, 0.000366118599999993, 0.0003784318000000053, 0.00038346869999999794, 0.0003946982, 0.00040036399999998667, 0.00041136840000000757, 0.00042323419999998926, 0.0004300173000000051, 0.00044567700000000077, 0.00044280180000001403, 0.0004516147999999898, 0.00046033280000001045, 0.00047703220000000057, 0.0004916100999999907, 0.0005020325000000011, 0.0005004974000000031, 0.0005119722999999983, 0.0005118461999999957, 0.0005191060999999996, 0.0005315446999999942, 0.0005496841999999849, 0.000548995599999993, 0.0005560088999999984, 0.0005665239999999931, 0.0005754000000000062, 0.0005951605, 0.0005937705000000061, 0.0006086953000000041, 0.0006285294999999986, 0.0006419388000000043, 0.0006587283999999902, 0.0006596570000000025, 0.0006656839000000109, 0.0006737414000000098, 0.000692385100000009, 0.0006956105000000059, 0.0007091973000000037, 0.000715546199999996, 0.0007392125999999953, 0.0007477308999999961, 0.0007611576999999941, 0.0007667995999999996, 0.0007812281000000088, 0.000782904700000004, 0.000793729100000004, 0.000811869199999998, 0.0008260794999999975, 0.0008383118999999976, 0.0008459461999999909, 0.000856199499999992, 0.0008507510999999944, 0.0008648697999999996, 0.0008756760000000035, 0.0008830549000000044, 0.0008841668000000085, 0.0008958390999999953, 0.0009049860000000026, 0.0009124291000000037], label='Rust --release std::collections::BTreeMap<u64,f64> insert', marker='o')
p2, = plt.plot(y, [0.000005053099999999549, 0.00000954939999999864, 0.00001631779999999855, 0.000018417799999998162, 0.00002972599999999907, 0.000032044799999999975, 0.000034079999999999504, 0.0000367728000000014, 0.00005707720000000071, 0.000060097299999993405, 0.00006374769999999838, 0.00006213919999999542, 0.00006397749999999929, 0.0000668681999999999, 0.00007093030000000062, 0.00007324479999999696, 0.00007600310000000205, 0.0001162550999999966, 0.00011850499999999477, 0.00012070759999999397, 0.0001285802000000017, 0.00012965389999999857, 0.00013256920000000278, 0.00013649270000000503, 0.0001352451000000032, 0.00013796690000000014, 0.00013966269999999553, 0.00014111779999999166, 0.00015019079999999436, 0.0001620017999999996, 0.00016294760000000016, 0.00016239470000000276, 0.00016274400000000728, 0.00016769640000000453, 0.00016949659999999884, 0.00024612310000000367, 0.00024770830000000316, 0.0002468690000000098, 0.00024873410000000716, 0.0002541929000000014, 0.00026732590000000476, 0.000267862000000005, 0.00026846100000000374, 0.0002708921999999971, 0.00027776649999999614, 0.000279964299999995, 0.00028221379999999785, 0.00028700449999999626, 0.00028698719999999665, 0.0002966026000000011, 0.0002956298999999991, 0.00029471789999999896, 0.0002990418000000029, 0.0003034824000000105, 0.0003014067000000084, 0.00030190690000000584, 0.0003168043000000028, 0.0003232499000000052, 0.0003138491999999941, 0.00031198359999999196, 0.0003155493999999959, 0.00032559650000000125, 0.00032575140000000045, 0.0003301803000000038, 0.0003283125000000034, 0.00033797680000000437, 0.00034240620000000567, 0.0003443950000000015, 0.0003455244999999995, 0.00034882630000000135, 0.0003531469000000059, 0.0005133517999999984, 0.0005124126999999973, 0.0005381598999999924, 0.0005231125999999943, 0.0005241575999999952, 0.0005287003999999992, 0.0005328382999999968, 0.0005301487999999975, 0.0005303613999999968, 0.0005476205999999967, 0.0005607430999999962, 0.0005578490999999973, 0.0005530303999999935, 0.0005473427999999948, 0.0005486604999999949, 0.0005526086999999955, 0.0005587611999999947, 0.000563914399999998, 0.0005643737999999994, 0.0005648494999999961, 0.0005788525000000044, 0.0005786243999999966, 0.0005648314999999944, 0.0005888950999999989, 0.0005939038000000013, 0.000591947399999999, 0.0005973798999999992, 0.0005848869999999994, 0.0005820920999999973], label='Rust --release std::collections::HashMap<u64,f64> insert', marker='x')
#p3, = plt.plot(y, [300, 400, 500, 600, 700, 300, 400, 500, 600, 700], label='steve', marker='*')

plt.legend(handles=[p1, p2], fontsize='14')

plt.ylabel('Average delay over 10,000 runs (sec.)', fontsize='14', fontweight='bold')
plt.xlabel('Number of items numbers inserted', fontsize='14', fontweight='bold')
plt.show()